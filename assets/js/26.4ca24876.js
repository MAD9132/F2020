(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{482:function(e,t,s){"use strict";s.r(t);var a=s(54),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"week-10-hybrid-activity"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#week-10-hybrid-activity"}},[e._v("#")]),e._v(" Week 10 Hybrid Activity")]),e._v(" "),s("h2",{attrs:{id:"continue-work-on-your-android-assignment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#continue-work-on-your-android-assignment"}},[e._v("#")]),e._v(" Continue work on your Android assignment")]),e._v(" "),s("h2",{attrs:{id:"add-shared-preferences"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-shared-preferences"}},[e._v("#")]),e._v(" Add Shared Preferences:")]),e._v(" "),s("p",[e._v("Create a new Kotlin class in your project called "),s("code",[e._v("SharedPreferences")]),e._v(".")]),e._v(" "),s("p",[e._v("Add the provided code to this class:")]),e._v(" "),s("p",[s("a",{attrs:{href:"~@root/SharedPreferences.txt"}},[e._v("Shared Preferences sample code")])]),e._v(" "),s("p",[e._v("Add all the required "),s("code",[e._v("Set")]),e._v(" and "),s("code",[e._v("Get")]),e._v(" methods to this class:")]),e._v(" "),s("p",[e._v("add "),s("code",[e._v("get")]),e._v(" methods for "),s("code",[e._v("Int?")]),e._v(", "),s("code",[e._v("Long?")]),e._v(", "),s("code",[e._v("Float?")]),e._v(", "),s("code",[e._v("Boolean?")]),e._v(" and "),s("code",[e._v("Set<String>")]),e._v("?\nadd "),s("code",[e._v("set")]),e._v(" methods for "),s("code",[e._v("Int")]),e._v(", "),s("code",[e._v("Long")]),e._v(", "),s("code",[e._v("Float")]),e._v(", "),s("code",[e._v("Boolean")]),e._v(" and "),s("code",[e._v("Set<String>")]),e._v("\nAdd a new property to the "),s("code",[e._v("GlideImage")]),e._v(" class called "),s("code",[e._v("sharedPreferences")]),e._v(" and initialize it to a instance of your completed "),s("code",[e._v("SharedPreferences")]),e._v(" class.")]),e._v(" "),s("p",[e._v("Inside the "),s("code",[e._v("onResourceReady")]),e._v(" function in your "),s("code",[e._v("GlideImage")]),e._v(" class after "),s("code",[e._v("lastURL")]),e._v(" has been set to last URL used save lastURL to shared preferences using your "),s("code",[e._v("sharedPreferences")]),e._v(" object.")]),e._v(" "),s("blockquote",[s("p",[e._v('Note: Your key name should be "LAST_URL"')])]),e._v(" "),s("p",[e._v("In the "),s("code",[e._v("MainActivity")]),e._v(" class "),s("code",[e._v("onCreate")]),e._v(" method create an instance of your completed "),s("code",[e._v("SharedPreferences")]),e._v(" class called "),s("code",[e._v("sharedPreferences")]),e._v(".")]),e._v(" "),s("p",[e._v("Create a new "),s("code",[e._v("nullable String")]),e._v(" local variable called "),s("code",[e._v("lastURL")]),e._v(".")]),e._v(" "),s("p",[e._v("Initialize this var using your "),s("code",[e._v("sharedPreferences")]),e._v(" object's "),s("code",[e._v("getValueString")]),e._v(" method passing "),s("code",[e._v('"LAST_URL"')]),e._v(" as the key.")]),e._v(" "),s("blockquote",[s("p",[e._v("Note: Your nullable String variable (lastURL) will now contain either null or the address of the last URL used in your app.")])]),e._v(" "),s("h2",{attrs:{id:"add-full-screen-support"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-full-screen-support"}},[e._v("#")]),e._v(" Add Full Screen support:")]),e._v(" "),s("p",[e._v("Add the provided showSystemUI and hideSystemUI methods to the MainActivity class:")]),e._v(" "),s("p",[s("a",{attrs:{href:"~@root/FullScreenSampleCode.txt"}},[e._v("Full Screen sample code")])]),e._v(" "),s("p",[e._v("Use the Double Tap event listener to toggle between full and regular screen mode.")]),e._v(" "),s("blockquote",[s("p",[e._v("Note: The user of your app may switch out of full screen mode without using a double tap (swipe down).")])]),e._v(" "),s("p",[e._v("To deal with this issue you should add a listener for in the "),s("code",[e._v("onCreate")]),e._v(" method in the "),s("code",[e._v("MainActivity")]),e._v(" class and detect the current state:")]),e._v(" "),s("div",{staticClass:"language-kt line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kt"}},[s("code",[e._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("decorView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("setOnSystemUiVisibilityChangeListener")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" visibility "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("->")]),e._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// set a systemUIVisibilty state property here")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// normal view is (visibility and View.SYSTEM_UI_FLAG_FULLSCREEN == 0)")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("p",[e._v("Convert to use "),s("code",[e._v("lateinit")]),e._v(":")]),e._v(" "),s("p",[e._v("Convert the "),s("code",[e._v("nullable GestureDetectorCompat")]),e._v(" instance property in the "),s("code",[e._v("MainActivity")]),e._v(" class to use "),s("code",[e._v("lateinit")]),e._v(" (no longer a "),s("code",[e._v("nullable")]),e._v(" type) then remove both unnecessary safe calls (?) used with the "),s("code",[e._v("this")]),e._v(" property.")])])}),[],!1,null,null,null);t.default=n.exports}}]);