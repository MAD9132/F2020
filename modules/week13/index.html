<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Week 13 - Cordova | MAD9132</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Android App Development">
    
    <link rel="preload" href="/F2020/assets/css/0.styles.efac8754.css" as="style"><link rel="preload" href="/F2020/assets/js/app.1cc07ef2.js" as="script"><link rel="preload" href="/F2020/assets/js/2.4b4802b7.js" as="script"><link rel="preload" href="/F2020/assets/js/47.074c4315.js" as="script"><link rel="prefetch" href="/F2020/assets/js/10.5106b495.js"><link rel="prefetch" href="/F2020/assets/js/11.6f05a404.js"><link rel="prefetch" href="/F2020/assets/js/12.4564ec2f.js"><link rel="prefetch" href="/F2020/assets/js/13.e666d981.js"><link rel="prefetch" href="/F2020/assets/js/14.f5622a69.js"><link rel="prefetch" href="/F2020/assets/js/15.e53f18da.js"><link rel="prefetch" href="/F2020/assets/js/16.145d8225.js"><link rel="prefetch" href="/F2020/assets/js/17.8962a051.js"><link rel="prefetch" href="/F2020/assets/js/18.49a4760c.js"><link rel="prefetch" href="/F2020/assets/js/19.b7a11f77.js"><link rel="prefetch" href="/F2020/assets/js/20.3d53d97a.js"><link rel="prefetch" href="/F2020/assets/js/21.74cfd594.js"><link rel="prefetch" href="/F2020/assets/js/22.c3a0ae4e.js"><link rel="prefetch" href="/F2020/assets/js/23.32772f69.js"><link rel="prefetch" href="/F2020/assets/js/24.8e7aa4b2.js"><link rel="prefetch" href="/F2020/assets/js/25.dec5c2d1.js"><link rel="prefetch" href="/F2020/assets/js/26.4ca24876.js"><link rel="prefetch" href="/F2020/assets/js/27.f8166d21.js"><link rel="prefetch" href="/F2020/assets/js/28.2e8ae410.js"><link rel="prefetch" href="/F2020/assets/js/29.c2905fd2.js"><link rel="prefetch" href="/F2020/assets/js/3.deb6ef4a.js"><link rel="prefetch" href="/F2020/assets/js/30.877f77ec.js"><link rel="prefetch" href="/F2020/assets/js/31.aca02277.js"><link rel="prefetch" href="/F2020/assets/js/32.df1c7dc6.js"><link rel="prefetch" href="/F2020/assets/js/33.e856014d.js"><link rel="prefetch" href="/F2020/assets/js/34.da644fc1.js"><link rel="prefetch" href="/F2020/assets/js/35.7a9a2b43.js"><link rel="prefetch" href="/F2020/assets/js/36.2066eacf.js"><link rel="prefetch" href="/F2020/assets/js/37.5f798923.js"><link rel="prefetch" href="/F2020/assets/js/38.9c77dfe5.js"><link rel="prefetch" href="/F2020/assets/js/39.eea97326.js"><link rel="prefetch" href="/F2020/assets/js/4.91154e50.js"><link rel="prefetch" href="/F2020/assets/js/40.73f7c5f0.js"><link rel="prefetch" href="/F2020/assets/js/41.635620bb.js"><link rel="prefetch" href="/F2020/assets/js/42.1e48655e.js"><link rel="prefetch" href="/F2020/assets/js/43.2607158f.js"><link rel="prefetch" href="/F2020/assets/js/44.3436507c.js"><link rel="prefetch" href="/F2020/assets/js/45.d69e3cc8.js"><link rel="prefetch" href="/F2020/assets/js/46.1bc68b3a.js"><link rel="prefetch" href="/F2020/assets/js/48.6494ab96.js"><link rel="prefetch" href="/F2020/assets/js/49.25a8c66a.js"><link rel="prefetch" href="/F2020/assets/js/5.30a09b8e.js"><link rel="prefetch" href="/F2020/assets/js/50.a4d63146.js"><link rel="prefetch" href="/F2020/assets/js/51.40b83261.js"><link rel="prefetch" href="/F2020/assets/js/52.3ea8a189.js"><link rel="prefetch" href="/F2020/assets/js/6.256ed5d0.js"><link rel="prefetch" href="/F2020/assets/js/7.abbed4fb.js"><link rel="prefetch" href="/F2020/assets/js/8.941e2461.js"><link rel="prefetch" href="/F2020/assets/js/9.20225582.js">
    <link rel="stylesheet" href="/F2020/assets/css/0.styles.efac8754.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2020/" class="home-link router-link-active"><!----> <span class="site-name">MAD9132</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2020/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2020/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/F2020/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2020/modules/install/" class="sidebar-link">Install Dev Tools</a></li><li><a href="/F2020/modules/submit/" class="sidebar-link">How to Submit Assignments</a></li><li><a href="/F2020/modules/template/" class="sidebar-link">Code Template</a></li><li><a href="/F2020/modules/kotlin-intro/" class="sidebar-link">Kotlin Introduction</a></li><li><a href="/F2020/modules/kotlin-oop/" class="sidebar-link">Kotlin OOP</a></li><li><a href="/F2020/modules/android/" class="sidebar-link">Android</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deliverables</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="week-13-cordova"><a href="#week-13-cordova" class="header-anchor">#</a> Week 13 - Cordova</h1> <div class="custom-block danger"><p class="custom-block-title">SWITCH TO WINDOWS</p> <ul><li>We are now using Windows 10.</li> <li>Make sure that you have installed NodeJS and VSCode for Windows.</li> <li>You also need Gradle, Android Studio version 3.x, JDK version 8.x, and Cordova installed.</li></ul></div> <h2 id="domcontentloaded-vs-deviceready"><a href="#domcontentloaded-vs-deviceready" class="header-anchor">#</a> DOMContentLoaded vs deviceready</h2> <p>As discussed in week 11, there is a difference between Cordova and web apps, that has to do with waiting for your page to be ready.</p> <p>With a web app we only need to wait for <code>DOMContentLoaded</code>.</p> <p>With a Cordova app we need to wait for <code>deviceready</code>.</p> <p>The difference is that the <code>deviceready</code> event lets us know that <code>DOMContentLoaded</code> has happened as well as all the Cordova features and plugins are ready to use. With a Cordova app we always wait for the <code>deviceready</code> event before doing anything.</p> <h3 id="code-for-both-events"><a href="#code-for-both-events" class="header-anchor">#</a> Code for Both Events</h3> <p>When building Cordova apps, we typically start testing in the browser before we move to the emulator or devices. In the browser there is no <code>deviceready</code> event. So, we need to write code that will work in both places - the browser as a webpage AND in the emulator or Android device as a Cordova App.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> ready <span class="token operator">=</span> <span class="token string">&quot;cordova&quot;</span> <span class="token keyword">in</span> window <span class="token operator">?</span> <span class="token string">&quot;deviceready&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//check if cordova object exists and use deviceready if it does</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>ready<span class="token punctuation">,</span> init<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//assuming that init is your function to run to start your app</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>This code sample checks to see if there is an object called <code>cordova</code> inside the <code>Window</code> object. If the cordova JS file is loaded, this is something that it will create. That object will create the <code>deviceready</code> event.</p> <p>So, if the <code>cordova</code> object exists inside the Window object, that means the cordova JS file was loaded and ran. This script is only added to our webpage through the Cordova compiling process. If you don't compile your app then the script and the object will not exist.</p> <h2 id="custom-events"><a href="#custom-events" class="header-anchor">#</a> Custom Events</h2> <p>We have been working, until now, with events that are built into core JavaScript or the DOM. Things like <code>DOMContentLoaded</code>, <code>load</code>, and <code>click</code> are always available in our webpages. However, you can also use JavaScript to create your own.</p> <p>As some of you have noticed by now, some of the SPA code samples include events like <code>pageShow</code>. This is not something built into JS.</p> <p>Cordova includes the <code>deviceready</code> event. This is a JavaScript event that the Cordova JS file creates.</p> <p>You can create your own custom events too.</p> <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent" target="_blank" rel="noopener noreferrer">MDN custom Event reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Here is a CodePen showing how a Custom Event could be created and used.</p> <iframe height="500" scrolling="no" title="PageShow Event " src="https://codepen.io/mad-d/embed/raweyY?height=500&amp;theme-id=default&amp;default-tab=js,result" frameborder="no" allowtransparency="true" allowfullscreen="allowfullscreen" style="width:100%;"></iframe> <p><a href="https://codepen.io/mad-d/pen/raweyY" target="_blank" rel="noopener noreferrer">CodePen Link<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="cordova-cheatsheet"><a href="#cordova-cheatsheet" class="header-anchor">#</a> Cordova Cheatsheet</h2> <p>Here is a CodePen with a summary of the majority of the Android, iOS and Cordova commands that you will use when building Cordova apps.</p> <iframe height="500" scrolling="no" title="Cordova Cheatsheet" src="https://codepen.io/mad-d/embed/OPPyOw?height=500&amp;theme-id=default&amp;default-tab=result" frameborder="no" allowtransparency="true" allowfullscreen="allowfullscreen" style="width:100%;"></iframe></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/26/2020, 4:48:41 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/F2020/assets/js/app.1cc07ef2.js" defer></script><script src="/F2020/assets/js/2.4b4802b7.js" defer></script><script src="/F2020/assets/js/47.074c4315.js" defer></script>
  </body>
</html>
